<!DOCTYPE html>
<html lang="en-us">
  <title>Незмінюваність (ABRoot) - KOOMPI OS</title>
<link rel="stylesheet" href="/assets/css/index.css">
<script type="text/javascript" src="/assets/js/autosummary.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="shortcut icon" href="/assets/images/favicon.ico">

  <body>
    <main>
      <aside>
        <ul>
          <li>
            <a href="/">Home</a>
          </li>
          <li>
            <a href="https://github.com/KOOMPI-OS/documentation">Source Code</a>
          </li>
          <li>
            <a href="https://koompi.org/">Website</a>
          </li>
        </ul>
        <div class="summary">
          <b>Summary</b>
          <ul>
              <li>Loading...</li>
          </ul>
        </div>
      </aside>
      <article>
        <div class="container"><h1 id="незмінюваність-abroot">Незмінюваність (<code class="language-plaintext highlighter-rouge">abroot</code>)</h1>

<p><code class="language-plaintext highlighter-rouge">abroot</code> - це утиліта, яка забезпечує повну незмінюваність та атомарність, виконуючи транзакції між 2 кореневими розділами (A⟺B), вона також дозволяє виконувати транзакції на вимогу за допомогою транзакційної оболонки.</p>

<h2 id="як-це-працює">Як це працює</h2>

<p>Файлова система Linux - це ієрархічна файлова структура, яка містить кореневий та інші каталоги. 
Корінь - це основний ієрархічний каталог, який містить усі інші розділи.
У незмінних файлових системах кореневий розділ доступний лише для читання, що перешкоджає встановленню необхідних пакунків, таких як драйвери на хості.</p>

<p>Команда <code class="language-plaintext highlighter-rouge">abroot</code> дозволяє встановлювати модулі ядра, драйвери та інші необхідні пакунки, не порушуючи незмінність файлової системи.</p>

<p>Коли команда виконується у <code class="language-plaintext highlighter-rouge">abroot</code>, запускається транзакція у транзакційній оболонці у другому кореневому розділі. Якщо транзакція завершується успішно, зміни застосовуються за допомогою оверлея і синхронізуються з поточним коренем при перезавантаженні. Якщо транзакція завершиться невдало, жодних змін не буде застосовано (через властивість, відому як атомарність). <code class="language-plaintext highlighter-rouge">abroot</code> також дозволяє виконувати транзакції на вимогу за допомогою команди <code class="language-plaintext highlighter-rouge">abroot shell</code>.</p>

<p>У встановленій KOOMPI OS створюються кореневий та завантажувальний розділи для обох станів (20 ГБ на кореневий розділ), оскільки це є вимогою для <code class="language-plaintext highlighter-rouge">abroot</code>.</p>

<h2 id="стани">Стани</h2>

<p>У <code class="language-plaintext highlighter-rouge">abroot</code> є два стани - поточний і майбутній. Коли ви вперше встановлюєте KOOMPI OS, поточним станом є A. При перезавантаженні системи стан автоматично змінюється на B. Коли ви встановлюєте пакунок за допомогою <code class="language-plaintext highlighter-rouge">abroot</code>, його буде встановлено у майбутній кореневий розділ і синхронізовано з поточним кореневим розділом при перезавантаженні.</p>

<h2 id="оновлення">Оновлення</h2>

<p>За допомогою <code class="language-plaintext highlighter-rouge">abroot</code> запускається утиліта <code class="language-plaintext highlighter-rouge">kso</code>, яка дозволяє здійснювати розумні автоматичні оновлення і встановлювати оновлення у фоновому режимі у майбутньому кореневому розділі, заощаджуючи час, оскільки не потрібно оновлювати пакунки під час перезавантаження.</p>

<h2 id="параметри-ядра">Параметри ядра</h2>

<p>Команда <code class="language-plaintext highlighter-rouge">abroot</code> дозволяє встановити власні параметри ядра, якщо цього вимагають драйвери або користувацькі налаштування. За замовчуванням <code class="language-plaintext highlighter-rouge">abroot</code> читає вміст файлу <code class="language-plaintext highlighter-rouge">/etc/default/abroot_kargs</code>, який <strong>не можна</strong> редагувати. Натомість, для керування параметрами слід скористатися наведеною командою:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>abroot kargs edit
</code></pre></div></div>

<p>Наведена вище команда відкриє файл параметрів у типовому текстовому редакторі командного рядка (за замовчуванням <code class="language-plaintext highlighter-rouge">nano</code>), але ви можете замінити його, використавши перед командою змінну оточення <code class="language-plaintext highlighter-rouge">$EDITOR</code>. Так, наприклад, якщо ви хочете відредагувати аргументи за допомогою <code class="language-plaintext highlighter-rouge">vim</code>, ви можете виконати <code class="language-plaintext highlighter-rouge">sudo EDITOR=vim abroot kargs edit</code>.</p>

<p><a href="https://www.kernel.org/doc/html/v4.14/admin-guide/kernel-parameters.html">Параметри ядра</a> мають бути відокремлені пробілами і <strong>НЕ</strong> повинні мати розривів рядків між собою. Крім того, не слід видаляти параметри за замовчуванням, якщо ви не знаєте, що робите, оскільки їх зміна може призвести до того, що систему буде неможливо завантажити.</p>

<p>**ПРИМІТКА: Параметри ядра застосовуються лише до вашого майбутнього кореня, тому ви завжди можете вказати попередній корінь, якщо щось піде не так.</p>

<h2 id="називання">Називання</h2>

<p>Ім’я ABRoot відноситься до двох взаємодіючих кореневих розділів A і B (A⟺B).</p>

<h2 id="використання">Використання</h2>

<ul>
  <li><a href="/docs/ABRoot/manpage">Manpage</a></li>
  <li><a href="/docs/ABRoot/porting">Перенесення до вашого дистрибутива</a></li>
</ul>

<h3 id="автори">Автори</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Спільнота KOOMPI OS
Переклад: Сапуцький Петро
</code></pre></div></div>
</div>
      </article>
    </main>
    <script>
    autosummary("article", "aside>.summary>ul");
</script>

  </body>
</html>
